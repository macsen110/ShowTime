<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<link rel="stylesheet" type= "text/css" href="style/common.css">
    <script src="script/react-with-addons.js"></script>
    <script type="text/javascript" src="script/JSXTransformer.js"></script>
    <script src="script/ReactRouter.min.js"></script>
    <script type="text/jsx">

        var Inbox = React.createClass({
            contextTypes: {
                router: React.PropTypes.func
            },
            render: function () {
                return (
                        <div>
                            <div>{this.context.router.getCurrentParams().messageId}</div>
                        </div>
                );
            }
        });
        var Dashboard = React.createClass({
            render: function () {
                return (
                        <div>
                            dashboard
                        </div>
                );
            }
        });
        var Router = ReactRouter; // or var Router = ReactRouter; in browsers

        var DefaultRoute = Router.DefaultRoute;
        var Link = Router.Link;
        var Route = Router.Route;
        var RouteHandler = Router.RouteHandler;

        var App = React.createClass({
            render: function () {
                return (
                        <div>
                            <header>
                                <ul>
                                    <li><Link to="app">Dashboard</Link></li>
                                    <li><Link to="inbox">Inbox</Link></li>
                                    <li><Link to="message" params = {{messageId:"123"}}>Inbox</Link></li>
                                </ul>
                                Logged in as Jane
                            </header>

                            {/* this is the important part */}
                            <RouteHandler/>
                        </div>
                );
            }
        });

        var routes = (
                <Route name="app" path="/" handler={App}>
                    <Route name="inbox" path="/inbox" handler={Inbox}>
                        <Route name="message" path=":messageId" />
                    </Route>

                    <DefaultRoute handler={Dashboard}/>
                </Route>

        );

        Router.run(routes, function (Handler) {
            React.render(<Handler/>, document.body);
        });
    </script>

</head>
<body>


</body>
</html>
